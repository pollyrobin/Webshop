<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
    xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
    xmlns:h="http://xmlns.jcp.org/jsf/html"
    xmlns:c="http://java.sun.com/jsp/jstl/core"
    xmlns:f="http://xmlns.jcp.org/jsf/core"
    xmlns:p="http://xmlns.jcp.org/jsf/passthrough"
    xmlns:jsf="http://xmlns.jcp.org/jsf">

<c:set var="root" value="#{request.contextPath}" />
<ui:composition>
    <h:form>
    <nav class="navbar navbar-inverse navbar-fixed-top">
        <div class="container">
            <div class="navbar-header">
                <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar "/>
                    <span class="icon-bar"/>
                    <span class="icon-bar"/>
                </button>
                <h:link styleClass="navbar-brand" value="Pet Supplies" outcome="#{root}/index" />
                <!--<a class="navbar-brand" href="#{root}/index">Pet supplies</a>-->
            </div>
            <div id="navbar" class="collapse navbar-collapse">
                <ul class="nav navbar-nav">
                    <!--<li>-->
                        <!--<h:link value="Products" outcome="#{root}/pages/productList" />-->
                    <!--</li>-->
                    <li>
                        <h:link value="test" outcome="#{root}/test" />
                    </li>
                </ul>
                <ul class="pull-right nav navbar-nav">
                    <li>
                        <div>
                            <button type="button" class="btn btn-primary dropdown-toggle btn-user" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                <h:outputText value="Inloggen" rendered="#{authenticationController.authentication.loggedIn == false}"/>
                                <h:outputText value="#{authenticationController.authentication.customer.name}" rendered="#{authenticationController.authentication.loggedIn}"/>
                                <span class="caret"/>
                            </button>
                            <h:panelGroup rendered="#{authenticationController.authentication.loggedIn == false}">
                            <ul class="dropdown-menu">
                                <li>
                                    <div class="form-group">
                                        <h:outputLabel styleClass="col-sm-12 control-label" for="email">E-mail:</h:outputLabel>
                                        <div class="col-sm-12">
                                            <h:inputText  styleClass="form-control" p:placeholder="E-mail adres" p:type="email" required="true" requiredMessage="Email moet ingevuld zijn" value="#{authenticationController.customer.email}" id="email"/>
                                            <h:message for="email" styleClass="alert alert-danger validate-message"/>
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <h:outputLabel styleClass="col-sm-12 control-label" for="email">Password</h:outputLabel>
                                        <div class="col-sm-12">
                                            <h:inputText  styleClass="form-control" p:placeholder="Wachtwoord" p:type="password" required="true" requiredMessage="Wachtwoord moet ingevuld zijn" value="#{authenticationController.customer.user.password}" id="password"/>
                                            <h:message for="password" styleClass="alert alert-danger validate-message"/>
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <div class="col-sm-12" style="margin-top:10px;">
                                            <h:commandButton styleClass="btn btn-primary" action="#{authenticationController.login(authenticationController.customer)}" value="Login"/>
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <div class="col-sm-12" style="margin-top:10px;">
                                            <button class="btn btn-default" type="submit" jsf:outcome="register">Registreer</button>
                                        </div>
                                    </div>
                                </li>
                                <!--<li role="separator" class="divider"></li>-->
                                <!--<li>-->
                                    <!--&lt;!&ndash;<h:link value="" outcome="#{root}/register">&ndash;&gt;-->
                                        <!--&lt;!&ndash;<span>Registreer</span>&ndash;&gt;-->
                                    <!--&lt;!&ndash;</h:link>&ndash;&gt;-->
                                <!--</li>-->
                            </ul>
                            </h:panelGroup>
                            <h:panelGroup rendered="#{authenticationController.authentication.loggedIn}">
                                <ul class="dropdown-menu">
                                    <li>
                                            <!--<div class="form-group">-->
                                                <!--<div class="col-sm-12" style="margin-top:10px;">-->
                                                    <h:commandLink action="#{authenticationController.logout()}" value="Log uit"/>
                                                    <!--<button class="btn btn-default" type="submit" jsf:outcome="logout">Registreer</button>-->
                                                <!--</div>-->
                                            <!--</div>-->
                                    </li>
                                </ul>
                            </h:panelGroup>
                        </div>
                    </li>
                    <li>
                        <h:link value='' outcome="#{root}/shoppingCart">
                            <span class="glyphicon glyphicon-shopping-cart"/>
                        </h:link>
                    </li>
                </ul>


            </div><!--/.nav-collapse -->
        </div>
    </nav>
    </h:form>
</ui:composition>
</html>